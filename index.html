<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>ce-tech-docs by rSmart</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>ce-tech-docs</h1>
        <h2>rSmart CE Technical Documentation</h2>
        <a href="https://github.com/rSmart/ce-tech-docs" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h2>
<a name="human-resources-provisioning-service" class="anchor" href="#human-resources-provisioning-service"><span class="octicon octicon-link"></span></a>Human Resources Provisioning Service</h2>

<ol>
<li> HR data will be sent to CE via a REST interface. The URL will be
provided by your project manager during implementation.</li>
<li>
<p>To import a data file, the customer will perform a multi-part file upload (HTTP POST), of an XML file. For example:</p>

<pre><code>  curl --user username:password --form file=@hrExampleImport.xml https://final.url.com/kc-dev/hr-import/hrimport/import
</code></pre>

<p>The output of the command will return a little JSON response which will include the <code>importId</code>:</p>

<pre><code>{
    "importId":"5702e73f-8978-42dd-aabd-78dffeba2f84",
    "status":"PROCESSING",
    "message":"Import is processing",
    "startTime":"1395694542611",
    "recordTotal":"25",
    "processedRecords":"0",
    "errorCount":"0"
}
</code></pre>
</li>
<li> The format of the XML file is defined by the schema: <a href="https://github.com/rSmart/ce-tech-docs/blob/master/v1_0/hrmanifest.xsd">hrmanifest.xsd</a>.
The schema will be used to validate the XML file upon upload to ensure it
is a valid HR manifest.</li>
<li> A sample HR manifest XML file is provided for reference: <a href="https://github.com/rSmart/ce-tech-docs/blob/master/v1_0/hrExampleImport.xml">hrExampleImport.xml</a>.</li>
<li> The service expects that you will be sending a full dump of ALL active users
from your HR system. Users will be treated differently based on their current status in the system:

<ul>
<li>New users will be created. The record for each new user will be validated to ensure all required fields are provided.</li>
<li>Existing users who are in the import will be updated. Each user record contains sub-records for names, phones, addresses, emails, degrees, and appointments. If these sub-records are present in the import the system will be updated to match. If these sub-records are not present in the import no change will be made to these values in the system. If these sub-records are present but empty all sub-records for that type will be deleted (eg. an empty  sub-record will remove all degrees for the person within the system).</li>
<li>Existing users who are omitted from the import will be disabled in the system.</li>
</ul>
</li>
<li> The import will run asynchronously. If the import is able to start successfully the HTTP POST will return with a status code of 200. The import will continue to process on the server.</li>
<li> Only one import can run on the server at a time. If an import is in process when the HTTP POST request is made the new import will not start and a status code of 400 will be returned.</li>
<li> Status of the current import can be checked with the command:
<code>
  curl --user username:password https://final.url.com/kc-dev/hr-import/hrimport/import/&lt;importId&gt;
</code>
</li>
<li> The current import can be aborted with the command:
<code>
  curl --user username:password -X DELETE https://final.url.com/kc-dev/hr-import/hrimport/import/&lt;importId&gt;
</code>
</li>
</ol><h2>
<a name="xml-schema-versioning" class="anchor" href="#xml-schema-versioning"><span class="octicon octicon-link"></span></a>XML Schema Versioning</h2>

<ol>
<li>
<p>Version numbers will be recorded using both major and minor numbers:</p>

<pre><code>  &lt;schema version="1.0"
    targetNamespace="https://github.com/rSmart/ce-tech-docs/tree/master/v1_0"&gt;
</code></pre>
</li>
<li>
<p>When building your HR manifest XML, be sure to indicate which version of the
schema your data is compatible with:</p>

<pre><code>  &lt;hrmanifest schemaVersion="1.0"&gt;
</code></pre>
</li>
<li>
<p>Backwards compatibility will be maintained within the same <em>major</em> version number.
When backwards compatibility is not possible, then the major version will be
incremented and the targetNamespace will also change. For example:</p>

<pre><code>  &lt;schema version="2.0"
    targetNamespace="https://github.com/rSmart/ce-tech-docs/tree/master/v2_0"&gt;
</code></pre>
</li>
<li><p>Note: Changes to the schema that would require a compatibility change, will
be tied to a new version of the REST API as well. We will do our best to
keep older versions of both the REST APIs and corresponding XML schemas
working as long as possible. This will help minimize any impact to the
customer as much as possible.</p></li>
</ol>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/rSmart/ce-tech-docs/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/rSmart/ce-tech-docs/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/rSmart/ce-tech-docs"></a> is maintained by <a href="https://github.com/rSmart">rSmart</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>